<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=2.0, user-scalable=1.0, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="Cloud4Things" />
  <title>Cloud4Things HES - Duplicate Reads Dashboard</title>

 <!-- ================== CSS FILES ================== -->
  <link rel="stylesheet" href="css/global.css" />
  <link rel="stylesheet" href="css/custom.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  <link rel="stylesheet" href="css/dark.css" />
  <link rel="stylesheet" href="css/sidebar.css" />
  <link rel="stylesheet" href="css/topbar.css" />

  <!-- Bootstrap -->
  <link rel="stylesheet" href="css/bootstrap.min.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="css/all.min.css" />
  <link rel="stylesheet" href="css/fontawesome.min.css" />

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="bootstrap-icons/bootstrap-icons.min.css" />

  <!-- Animate -->
  <link rel="stylesheet" href="css/animate.css" />

  <!-- DataTables -->
  <link rel="stylesheet" href="css/datatables.min.css" />

 
</head>

<body>

  <div class="app">

    <!-- TOPBAR -->
    <header class="topbar">
      <div class="container-fluid p-0">
        <div class="row">
          <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-2 col-sm-2">
            <div class="left-actions">
              <!-- Mobile hamburger -->
              <button id="btnMobileMenu" class="btn btn-sm btn-outline-secondary d-lg-none" aria-label="Open menu">
                <i class="bi bi-filter-left"></i>
              </button>

              <!--Logo-->
              <div class="logo-area">
                <a href="index.html">
                  <img src="images/logo.png" alt="C4T Logo" width="80px">
                </a>
              </div>


            </div>
          </div>
          <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-3">
            <div class="d-flex gap-2">
              <!-- Desktop collapse -->
              <button id="btnCollapse" class="btn btn-sm btn-outline-secondary d-none d-lg-inline" aria-pressed="false"
                title="Collapse sidebar">
                <i class="bi bi-layout-sidebar-inset"></i>
              </button>

              <!--Search Btn-->
              <!-- <div class="search-btn">
                <input type="search" class="form-control form-control-sm" placeholder="Search..." aria-label="Search"
                  aria-describedby="search-button">
              </div> -->
            </div>
          </div>
          <div class="col-xxl-7 col-xl-7 col-lg-7 col-md-7 col-sm-7">
            <div class="d-flex align-items-center gap-2 right-actions" style="float: right; margin: 6px 0 0;">

              <!-- color swatches -->
              <!-- <button id="btnColorSwatches" class="btn btn-sm btn-outline-secondary" title="Color Swatches"
          aria-label="ColorSwatches">
          <i class="bi bi-palette"></i>
        </button>
        <div class="d-flex align-items-center gap-2 me-2 hidden" id="colorSwatch" style="display: none;">
          <div class="btn-theme" title="Blue" data-color="#007AE9" style="background:#007AE9"></div>
          <div class="btn-theme" title="Purple" data-color="#0097B2" style="background:#0097B2"></div>
          <div class="btn-theme" title="Orange" data-color="#1A73E8" style="background:#1A73E8"></div>
          <div class="btn-theme" title="Orange" data-color="#3B82F6" style="background:#3B82F6"></div>
          <div class="btn-theme" title="Green" data-color="#DA5330" style="background:#DA5330"></div>
        </div> -->
              <!--Fullscreen-->
              <button id="btnFullscreen" class="btn btn-sm btn-outline-secondary" title="Toggle fullscreen"
                aria-label="Fullscreen">
                <i class="bi bi-arrows-fullscreen"></i>
              </button>

              <!-- Light / Dark mode -->
              <button id="btnTheme" class="btn btn-sm btn-outline-secondary" title="Toggle dark mode"
                aria-pressed="false" aria-label="Toggle theme">
                <i class="bi bi-moon-stars"></i>
              </button>

              <!-- user -->
              <div class="dropdown" id="user-btn">
                <a href="#" class="text-decoration-none" id="dropdownUser" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  <i class="bi bi-person-fill"></i> Demo User <span class="circle"></span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUser">
                  <li><a class="dropdown-item" href="#">Login</a></li>
                  <li><a class="dropdown-item" href="#">Forget Password</a></li>
                  <li><a class="dropdown-item" href="#">Change Password</a></li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right"></i> Logout</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar" aria-label="Main navigation">


      <nav class="nav flex-column" role="navigation" aria-label="Sidebar menu">
        <!-- Dashboard -->
        <div class="nav-item">
          <a href="index.html" class="nav-link sidebar-link" data-key="dashboard" role="link">
            <div class="icon"><i class="bi bi-speedometer2"></i></div>
            <div class="label">Dashboard</div>
          </a>
        </div>

        <!-- Meters -->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="meters"
            aria-expanded="false" aria-controls="meters" role="button">
            <div class="icon"><i class="bi bi-gear"></i></div>
            <div class="label">Meters</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="meters" class="submenu" role="region" aria-hidden="true">
            <a href="meter-command-console.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Meter Command Console</div>
            </a>

            <a href="meter-read-history.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Meter Read History</div>
            </a>

            <a href="meter-configuration.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Meter Configuration</div>
            </a>

          </div>
        </div>

        <!-- Analytics -->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="analytics"
            aria-expanded="false" aria-controls="analytics" role="button">
            <div class="icon"><i class="bi bi-compass"></i></div>
            <div class="label">Analytics</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="analytics" class="submenu" role="region" aria-hidden="true">
            <a href="event-overview.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Event Overview</div>
            </a>

            <a href="load-analytics.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Load Analytics</div>
            </a>

            <a href="meter-efficiency-analytics.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Meter Efficiency Analytics</div>
            </a>
          </div>
        </div>

        <!-- Tamper -->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="tamper"
            aria-expanded="false" aria-controls="tamper" role="button">
            <div class="icon"><i class="bi bi-shield-slash-fill"></i></div>
            <div class="label">Tamper</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="tamper" class="submenu" role="region" aria-hidden="true">
            <a href="command-center-overview.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Command Center </div>
            </a>

            <a href="bulk-command-execution.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Bulk Command Execution</div>
            </a>
          </div>
        </div>

        <!--Firmwire-->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="firmwire"
            aria-expanded="false" aria-controls="firmwire" role="button">
            <div class="icon"><i class="bi bi-cpu"></i></div>
            <div class="label">Firmwire</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="firmwire" class="submenu" role="region" aria-hidden="true">
              <a href="firwire-overview.html"  class="subitem" role="link">
                <i class="bi bi-arrow-right-short"></i>
                <div class="">Firmwire Overview</div>
              </a>
              <a href="firmwire-group.html" class="subitem" role="link"><i class="bi bi-arrow-right-short"></i>
                  <div class="">Firwire Group management</div>
                </a>
                <a href="firmwire-push-console.html" class="subitem" role="link"><i class="bi bi-arrow-right-short"></i>
                  <div class="">Firmwire Push Console</div>
                </a>
          </div>
        </div>

        <!-- Data Read Category -->
        <div class="nav-item active">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="data-read-category"
            aria-expanded="false" aria-controls="data-read-category" role="button">
            <div class="icon"><i class="bi bi-folder2-open"></i></div>
            <div class="label">Data Read Category</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="data-read-category" class="submenu" role="region" aria-hidden="true">
            <a href="missing-reads.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Missing Reads Dashboard</div>
            </a>

            <a href="duplicate-reads-dashboard.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Duplicate Reads Dashboard</div>
            </a>
          </div>
        </div>

        <!-- MDMS Sync Dashboard -->
        <div class="nav-item">
          <a href="mdms-sync-dashboard.html" class="nav-link sidebar-link" data-key="mdms-sync" role="link">
            <div class="icon"><i class="bi bi-bar-chart-line"></i></div>
            <div class="label">MDMS Sync Dashboard</div>
          </a>
        </div>

        <!-- Reports -->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="reports"
            aria-expanded="false" aria-controls="reports" role="button">
            <div class="icon"><i class="bi bi-file-earmark-text"></i></div>
            <div class="label">Reports</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="reports" class="submenu" role="region" aria-hidden="true">
            <a href="energy-consumption-report.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Energy Consumption Reports</div>
            </a>

            <a href="generated-report-list.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Generated Reports List</div>
            </a>
          </div>
        </div>

        <!-- Billing -->
        <div class="nav-item">
          <a href="javascript:void(0);" class="nav-link sidebar-link js-sub-toggle" data-target="billing"
            aria-expanded="false" aria-controls="billing" role="button">
            <div class="icon"><i class="bi bi-receipt"></i></div>
            <div class="label">Billing</div>
            <div class="caret"><i class="bi bi-chevron-right"></i></div>
          </a>

          <div id="billing" class="submenu" role="region" aria-hidden="true">
            <a href="billing-overview.html" class="subitem d-flex align-items-center" role="link">
              <i class="bi bi-arrow-right-short"></i>
              <div class="">Billing overview</div>
            </a>

            <a href="atc-loss.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">AT&C Loss Analytics</div>
            </a>

            <a href="billing-system-integration.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Billing System Integration</div>
            </a>

            <a href="payment-gateway-integration.html" class="subitem d-flex align-items-center" role="link"><i class="bi bi-arrow-right-short"></i>
              <div class="">Payment Gateway Integrations</div>
            </a>
          </div>
        </div>

        <!-- Footer in sidebar (collapse button) -->
        <div class="nav-item mt-3 px-2" style="display: none;">
          <button id="sidebarCollapseBtn" class="btn btn-sm btn-outline-secondary w-100 d-lg-block"
            aria-pressed="false">
            <i class="bi bi-chevron-left"></i>
            <span class="label ms-2 d-none d-lg-inline"></span>
          </button>
        </div>
      </nav>
    </aside>

    <!-- backdrop for mobile -->
    <div id="sidebarBackdrop" class="sidebar-backdrop" tabindex="-1" aria-hidden="true"></div>

    <!-- MAIN CONTENT -->
    <main id="main" class="content-wrap">
      <h4 class="dash-head"></h4>
      <h4 class="dash-head"> Duplicate Reads Dashboard <span class="sub-dash-head"><a href="index.html">Dashboard</a> <i
            class="bi bi-arrow-right-short"></i> Data Read Category <i class="bi bi-arrow-right-short"></i> Duplicate
          Reads Dashboard</span>
      </h4>

      <section class="duplicateReadsDash">
        <div class="container-fluid">
          <!-- Filters -->
          <div class="row mb-3 align-items-center filter-row">
            <div class="col-auto">
              <select class="form-select form-select-sm">
                <option>All States</option>
                <option>State A</option>
              </select>
            </div>
            <div class="col-auto">
              <select class="form-select form-select-sm">
                <option>All Circles</option>
              </select>
            </div>
            <div class="col-auto">
              <select class="form-select form-select-sm">
                <option>All Divisions</option>
              </select>
            </div>
            <div class="col-auto">
              <select class="form-select form-select-sm">
                <option>All Subdivisions</option>
              </select>
            </div>
            <div class="col-auto">
              <select class="form-select form-select-sm">
                <option>All Substations</option>
              </select>
            </div>

            <div class="col-auto ms-auto">
              <button class="btn btn-outline-secondary btn-sm">Reset</button>
            </div>
          </div>

          <!-- KPI row -->
          <div class="row g-3 mb-3">
            <div class="col-sm-6 col-md-3">
              <div class="kpi-card">
                <div class="kpi-value">15.2k</div>
                <div class="kpi-label">Total Duplicate Reads</div>
              </div>
            </div>
            <div class="col-sm-6 col-md-3">
              <div class="kpi-card">
                <div class="kpi-value">8.7%</div>
                <div class="kpi-label">2 Day Avg Duplicate Rate</div>
              </div>
            </div>
            <div class="col-sm-6 col-md-3">
              <div class="kpi-card">
                <div class="kpi-value">10</div>
                <div class="kpi-label">High-Impact DT/Feeders</div>
              </div>
            </div>
            <div class="col-sm-6 col-md-3">
              <div class="kpi-card">
                <div class="kpi-value">96%</div>
                <div class="kpi-label">Resolution Rate</div>
              </div>
            </div>
          </div>

          <!-- Main content -->
          <div class="row">
            <!-- Left large column -->
            <div class="col-lg-8">
              <div class="card-section">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <div class="small-title">Duplicate Reads Trend</div>
                  <div class="text-muted">Apr 1 - Apr 30</div>
                </div>
                <div id="trendChart" style="height:280px;"></div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="card-section">
                    <div class="small-title">Timestamp Correlation View</div>
                    <div id="scatterChart" style="height:220px"></div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="card-section">
                    <div class="small-title">Meter-Wise Duplicates</div>
                    <div id="meterBarChart" style="height:220px"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right column -->
            <div class="col-lg-4">
              <div class="card-section mb-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <div class="small-title">Root-Cause Distribution</div>
                  <div class="text-muted small">Top reasons</div>
                </div>

                <div id="pieChart" style="height:200px"></div>

                <div class="mt-2">
                  <div class="d-flex align-items-center mb-1"><span class="legend-dot"
                      style="background:#3b82f6"></span> <small>Network Issue <strong class="ms-2">45%</strong></small>
                  </div>
                  <div class="d-flex align-items-center mb-1"><span class="legend-dot"
                      style="background:#facc15"></span> <small>Minor Times <strong class="ms-2">26%</strong></small>
                  </div>
                  <div class="d-flex align-items-center mb-1"><span class="legend-dot"
                      style="background:#6b7280"></span> <small>Bashand Collision <strong
                        class="ms-2">26%</strong></small></div>
                  <div class="d-flex align-items-center mb-1"><span class="legend-dot"
                      style="background:#60a5fa"></span> <small>Invalid Timestamp <strong
                        class="ms-2">3%</strong></small></div>
                </div>
              </div>

              <div class="card-section">
                <div class="small-title">Data Pipeline Patterns</div>

                <div class="pipeline-label">
                  <div>Ingestion</div>
                  <div>85%</div>
                </div>
                <div class="pipeline-bar mb-3">
                  <div class="fill" style="width:85%; background:#3b82f6"></div>
                </div>

                <div class="pipeline-label">
                  <div>Validation</div>
                  <div>60%</div>
                </div>
                <div class="pipeline-bar mb-3">
                  <div class="fill" style="width:60%; background:#60a5fa"></div>
                </div>

                <div class="pipeline-label">
                  <div>Processing</div>
                  <div>35%</div>
                </div>
                <div class="pipeline-bar mb-3">
                  <div class="fill" style="width:35%; background:#34d399"></div>
                </div>

                <div class="pipeline-label">
                  <div>Storage</div>
                  <div>18%</div>
                </div>
                <div class="pipeline-bar mb-3">
                  <div class="fill" style="width:18%; background:#f97316"></div>
                </div>

                <div class="pipeline-label">
                  <div>Distribution</div>
                  <div>8%</div>
                </div>
                <div class="pipeline-bar">
                  <div class="fill" style="width:8%; background:#a78bfa"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!--Footer-->
      <section class="footer">
        <p><i class="fa-regular fa-copyright"></i> Copyright
          <script>document.write(new Date().getFullYear());</script>. All Rights Reserved. Empowered by
          <a href="https://cloud4things.com/" target="_blank">Cloud4Things Technologies Pvt. Ltd</a>
        </p>
      </section>

    </main>
  </div>

 <!-- ================== JS FILES ================== -->

  <!-- Highcharts -->
  <script src="js/highmaps.js"></script>
  <script src="js/exporting.js"></script>
  <script src="js/accessibility.js"></script>
  <script src="js/adaptive.js"></script>

  <!-- ApexCharts -->
  <script src="js/apexcharts.js"></script>

  <!-- jQuery (must load before Datatables & custom JS) -->
  <script src="js/jquery.min.js"></script>

  <!-- Bootstrap JS -->
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>

  <!-- DataTables JS -->
  <script src="js/datatables.min.js"></script>

  <!-- WOW JS -->
  <script src="js/wow.min.js"></script>

  <!-- Custom JS -->
  <script src="js/custom.js"></script>
  <script src="js/custom1.js"></script>

  <!--Datepicker Range-->
  <link rel="stylesheet" type="text/css" href="css/daterangepicker.css" />
   <script type="text/javascript" src="js/moment.min.js"></script>
  <script type="text/javascript" src="js/daterangepicker.min.js"></script>

  <script>
    // ---------- Duplicate Reads Trend (combo: column + line) ----------
(function () {
  // sample dates and data to mimic the image
  const labels = [
    "Apr 1", "Apr 3", "Apr 5", "Apr 7", "Apr 9", "Apr 11", "Apr 13", "Apr 15", "Apr 17", "Apr 19", "Apr 21", "Apr 23", "Apr 25", "Apr 27", "Apr 29"
  ];

  // daily duplicate reads (line) - slightly varying with an uptick at end
  const lineData = [45000, 75000, 60000, 40000, 52000, 48000, 50000, 40000, 60000, 72000, 85000, 90000, 65000, 70000, 98000];

  // 30-day duplicate read rate as bars
  const barData = [4500, 7500, 6000, 4000, 5200, 4800, 5000, 4000, 6000, 7200, 8500, 9000, 6500, 7000, 9800];

  const options = {
    chart: { height: 280, type: 'line', toolbar: { show: false } },
    series: [
      { name: 'Daily Duplicate Reads', type: 'line', data: lineData },
      { name: '30-Day Duplicate Read Rate', type: 'column', data: barData }
    ],
    stroke: { width: [3, 0], curve: 'smooth' },
    plotOptions: { bar: { columnWidth: '45%' } },
    markers: { size: 3 },
    xaxis: { categories: labels, labels: { rotate: -20 } },
    yaxis: [
      { title: { text: undefined }, labels: { formatter: function (val) { return Math.round(val / 1000) + 'k'; } } },
    ],
    colors: ['#2563eb', '#facc15'],
    legend: { show: true, position: 'top' },
    grid: { borderColor: '#eef2ff' },
    tooltip: { shared: true }
  };

  const chart = new ApexCharts(document.querySelector("#trendChart"), options);
  chart.render();
})();

// ---------- Pie Chart: Root-Cause Distribution ----------
(function () {
  const options = {
    chart: { type: 'pie', height: 200 },
    labels: ['Network Issue', 'Minor times', 'Bashand Collision', 'Invalid Timestamp'],
    series: [45, 26, 26, 3],
    colors: ['#2563eb', '#facc15', '#6b7280', '#60a5fa'],
    legend: { show: false },
    stroke: { colors: ['#fff'] },
    tooltip: { y: { formatter: function (val) { return val + '%'; } } }
  };
  const chart = new ApexCharts(document.querySelector("#pieChart"), options);
  chart.render();
})();

// ---------- Scatter Chart: Timestamp Correlation ----------
(function () {
  // generate sample correlated data
  const points = [];
  for (let i = 0; i < 60; i++) {
    // x: duplicates reads, y: position index (pseudo)
    const x = Math.round(200 + i * 8 + (Math.random() * 80 - 40));
    const y = Math.round(50 + i * 2 + (Math.random() * 30 - 15));
    points.push([x, y]);
  }

  const options = {
    chart: { type: 'scatter', height: 220, zoom: { enabled: false }, toolbar: { show: false } },
    series: [{ name: 'Duplicates', data: points }],
    xaxis: { title: { text: 'Duplicates Reads' } },
    yaxis: { title: { text: 'Possible Error Rate' } },
    markers: { size: 5 },
    colors: ['#2563eb'],
    grid: { borderColor: '#eef2ff' }
  };

  const chart = new ApexCharts(document.querySelector("#scatterChart"), options);
  chart.render();
})();

// ---------- Meter-Wise Duplicates (vertical bar) ----------
(function () {
  const options = {
    chart: { type: 'bar', height: 220, toolbar: { show: false } },
    series: [{ name: 'Duplicates', data: [800, 600, 450, 380, 720] }],
    plotOptions: { bar: { borderRadius: 6, barHeight: '60%' } },
    dataLabels: { enabled: false },
    xaxis: { categories: ['Ingestion', 'Validation', 'Processing', 'Storage', 'Distribution'] },
    yaxis: { labels: { formatter: function (val) { return val; } } },
    colors: ['#fbbf24'],
    grid: { borderColor: '#f1f5f9' }
  };

  const chart = new ApexCharts(document.querySelector("#meterBarChart"), options);
  chart.render();
})();
  </script>

  <script>
    new WOW().init();
  </script>

</body>

</html>